# Installation directories
# System's libraries directory (where binary libraries are installed)
LUA_LIBDIR= /usr/lib/lua/5.3
# Lua includes directory
LUA_INC= /usr/include/lua5.3
# OpenLDAP includes directory
OPENLDAP_INC= /usr/include
# OpenLDAP library (an optional directory can be specified with -L<dir>)
OPENLDAP_LIB= -lldap

# OS dependent
LIB_OPTION= -shared #for Linux
#LIB_OPTION= -bundle -undefined dynamic_lookup #for MacOS X

# Lua binary
LUA= lua5.3

# Lua version number (first and second digits of target version)
LUA_VERSION_NUM= 503
LIBNAME= $T.so.$V
COMPAT_DIR= ../compat/src

# Compilation parameters
WARN= -pedantic -Wall -W -Waggregate-return -Wcast-align -Wmissing-prototypes -Wnested-externs -Wshadow -Wwrite-strings
CPPFLAGS= -DLUA_C89_NUMBERS -I$(LUA_INC) -I$(OPENLDAP_INC) -I$(COMPAT_DIR)
CFLAGS= -O2 -fPIC -std=c89 $(WARN)
CC= gcc

MACOSX_DEPLOYMENT_TARGET="10.3"
export MACOSX_DEPLOYMENT_TARGET
